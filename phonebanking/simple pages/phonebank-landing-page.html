<header>
  <div class="container">
    <h1 class="logo">Our Revolution</h1>
    <div class="bottom">
      <h2>Calling for Our Revolution</h2>
    </div>
  </div>
</header>
<div class="container">
<div id="conference">

<p>
 <h3>Start Calling</h3><p>
  Phone banking is easy!  You just log onto our dialer system, call in, set yourself to "ready" and use the script we provide to talk to volunteers.</p>
  <p>
<!--Please make calls into the 'Priority' services (shown in red). If a service is gray, it is currently offline. or help <a href="https://go.ourrevolution.com/page/content/vol2vol/" target="_blank"> recruit volunteers</a> to Bernie events.--></p>
</div><!--
<li class="date col-2">Recruit volunteers<sup></sup>
    <ul class="flex space-between">
      <li class="col-3">
        <a class="state" href="https://go.ourrevolution.com/page/content/vol2vol/">
          Volunteer Outreach
        </a>
      </li>
    </ul>
  </li>

<p class="notification"> Watch our latest Volunteer Livestream Update here:
<a href="bernie.to/volstream"_blank" style="color:#0076D7;">bernie.to/volstream</a>.</strong></p>
-->

<ul class="upcoming flex space-between">
<!--
<li class="date col-2">Priority<sup></sup>
    <ul class="flex space-between">
      <li class="col-3">
        <a class="state" style="background-color: #E9514F" href="https://go.ourrevolution.com/page/content/dcphonebank/">
         Washington, D.C.
        </a>
      </li>
    </ul>
  </li>

</ul>

<ul class="upcoming flex space-between">

<li class="date">Priority Calls For Today<sup></sup>
    <ul class="flex space-between">

 <li class="col-3">
        <a class="state" style="background-color: #E9514F" href="https://go.ourrevolution.com/page/content/caphonebank/">
California
       </a>
      </li>


<li class="col-3">
        <a class="state" style="background-color: #E9514F" href="https://go.ourrevolution.com/page/content/nmphonebank/">
New Mexico
        </a>
      </li>

<li class="col-3">
        <a class="state" style="background-color: #E9514F" href="https://go.ourrevolution.com/page/content/gpphonebank/">
Great Plains
        </a>
      </li>

</ul>
</li>


<ul class="upcoming flex space-between">


<li class="date col-2">June 5<sup>th</sup>
    <ul class="flex space-between">
      <li class="col-3">
        <a class="state" id="pr" href="https://go.ourrevolution.com/page/content/llamapuertorico">
          Puerto Rico (espa√±ol)
        </a>
      </li>

</ul></li>


<li class="date">June 7<sup>th</sup>
    <ul class="flex space-between">


 <li class="col-3">
        <a class="state" id="ca" href="https://go.ourrevolution.com/page/content/caphonebank/">
California
        </a>
      </li>


 <li class="col-3">
        <a class="state" id="nm" href="https://go.ourrevolution.com/page/content/nmphonebank/">
New Mexico
        </a>
      </li>

</ul>
</li>
-->

<!-- </ul> -->
</ul>
<br>
<hr>

<ul class="upcoming flex space-between">
<!--
<li class="date col-2">June 28th<sup></sup>
    <ul class="flex space-between">
      <li class="col-3">
        <a class="state" href="https://go.ourrevolution.com/page/content/dcphonebank/">
          Washington, D.C.
        </a>
      </li>
    </ul>
  </li>
-->

<!--<li class="date col-2">August 2nd<sup></sup>
    <ul class="flex space-between">
      <li class="col-3">
        <a class="state" href="https://go.ourrevolution.com/page/content/pjphonebank/">
          Call for Pramila Jayapal (WA)
        </a>
      </li>
    </ul>
  </li>
<li class="date col-2">August 30th<sup></sup>
    <ul class="flex space-between">
      <li class="col-3">
        <a class="state" href="https://go.ourrevolution.com/page/content/tcphonebank/">
          Call for Tim Canova (FL)
        </a>
      </li>
    </ul>
  </li>
-->
<li class="date col-2">Call for Anthony<sup></sup>
    <ul class="flex space-between">
      <li class="col-3">
        <a class="state" href="https://go.ourrevolution.com/page/content/AEphonebank/">
          Call Voters
        </a>
      </li>
    </ul>
  </li>


</ul>

</div>
</div>


<script>
var schedules = {

mt: {
  mon: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
  tue: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
        wed: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  }
},

or: {
  mon: {
    start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  tue: {
    start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
        wed: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
        thur: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  fri: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sat: {
    start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sun: {
    start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  }
},

ca: {
  mon: {
    start: 100000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  tue: {
    start: 100000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
        wed: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
        thur: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  fri: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sat: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sun: {
    start: 100000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  }
},

gu: {
  mon: {
    start: 190000,
    startText: "10:00AM GT",
    end: 235900,
    endText: "9:00PM GT"
  },
  tue: {
    start: 190000,
    startText: "10:00AM GT",
    end: 235900,
    endText: "9:00PM GT"
  },
        wed: {
    start: 190000,
    startText: "10:00AM GT",
    end: 235900,
    endText: "9:00PM GT"
  },
        thur: {
    start: 180000,
    startText: "10:00AM GT",
    end: 235900,
    endText: "9:00PM GT"
  },
  fri: {
    start: 180000,
    startText: "10:00AM GT",
    end: 235900,
    endText: "9:00PM GT"
  },
  sat: {
    start: 180000,
    startText: "10:00AM GT",
    end: 235900,
    endText: "9:00PM GT"
  },
  sun: {
    start: 190000,
    startText: "10:00AM GT",
    end: 235900,
    endText: "9:00PM GT"
  }
},

gp: {
  mon: {
    start: 80000,
    startText: "8:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  tue: {
  start: 80000,
    startText: "8:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
        wed: {
  start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
        thur: {
  start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  fri: {
  start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sat: {
  start: 100000,
    startText: "9:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sun: {
  start: 80000,
    startText: "8:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  }
},



wv: {
  mon: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},


nj: {
  mon: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},


vi: {
  mon: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},


ky: {
  mon: {
    start: 70000,
    startText: "9:00AM ET",
    end: 200000,
    endText: "9:00PM CT"
  },
  tue: {
    start: 70000,
    startText: "9:00AM ET",
    end: 200000,
    endText: "9:00PM CT"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 70000,
    startText: "9:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 70000,
    startText: "9:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  }
},

pr: {
  mon: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 70000,
    startText: "9:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},

md: {
  mon: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},

ri: {
  mon: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},



de: {
  mon: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},




in: {
  mon: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},

ct: {
  mon: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},

pa: {
  mon: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  tue: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        wed: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        thur: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 80000,
    startText: "10:00AM ET",
    end: 190000,
    endText: "9:00PM ET"
  }
},

nm: {
  mon: {
    start: 90000,
    startText: "9:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  tue: {
  start: 90000,
    startText: "9:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  wed: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  thur: {
          start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  fri: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  sat: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  sun: {
    start: 90000,
    startText: "9:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  }
},

wa: {
  mon: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  tue: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  wed: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  thur: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  fri: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sat: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  },
  sun: {
    start: 110000,
    startText: "10:00AM MT",
    end: 220000,
    endText: "9:00PM MT"
  }
},

wi: {
  mon: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
  tue: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
        wed: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
        thur: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
        fri: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
  sat: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  },
  sun: {
    start: 90000,
    startText: "10:00AM CT",
    end: 200000,
    endText: "9:00PM CT"
  }
},


wy: {
  mon: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  tue: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
        wed: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
        thur: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
        fri: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  sat: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  },
  sun: {
    start: 100000,
    startText: "10:00AM MT",
    end: 210000,
    endText: "9:00PM MT"
  }
},

xx: {
  mon: {
    start: 90000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
  tue: {
      start: 90000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
        wed: {
      start: 90000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
        thur: {
  start: 90000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
        fri: {
    start: 90000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
  sat: {
    start: 90000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  },
  sun: {
    start: 90000,
    startText: "10:00AM ET",
    end: 200000,
    endText: "9:00PM ET"
  }
    }
};

</script>
<script>
jQuery(document).ready(function() {

  // build days
  var days = [
    { slug: "sun", name: "Sun" },
    { slug: "mon", name: "Mon" },
    { slug: "tue", name: "Tue" },
    { slug: "wed", name: "Wed" },
    { slug: "thur", name: "Thur" },
    { slug: "fri", name: "Fri" },
    { slug: "sat", name: "Sat" }
  ];

  // build client and server timestamps
  var offset = -6.0;
  var clientDate = new Date();
  var utc = clientDate.getTime() + (clientDate.getTimezoneOffset() * 60000);
  var serverDate = new Date(utc + (3600000 * offset));

  // parse dates
  var today = serverDate.getDay().toString();
  var hour = serverDate.getHours().toString().substring(0, 3);
  var min = serverDate.getMinutes().toString().substring(0, 3);
  var sec = serverDate.getSeconds().toString().substring(0, 3);
  var tomorrow = parseInt(today) + 1;
  if (tomorrow == 7) tomorrow = 0;

  // add zeros
  if (today < 10) today = "0" + today;
  if (hour < 10) hour = "0" + hour;
  if (min < 10) min = "0" + min;
  if (sec < 10) sec = "0" + sec;

  var currentTime = hour + min + sec;
  var $state;

  // if schedules
  if (typeof schedules == "object") {

    // for each state
    for (var state in schedules) {

      // cache state status element
      $state = $('#' + state);

      // process the schedule
      processSchedule(schedules[state]);

    }

  }

  // helpers

    function processSchedule(schedule) {

      // if there is a phone banking scheduled totoday
      if (hasEvent(schedule, today)) {

        // set start and end times
        var start = getProp("start", today);
        var end = getProp("end", today);
        var startText = getProp("startText", today);
        var endText = getProp("endText", today);

        var timeSinceStart = currentTime - start;
        var timeSinceEnd = currentTime - end;

        // if session is in progress, mark it as online
        if (timeSinceStart > 0 && timeSinceEnd < 0) onlineStatus();

        // else if session later today, mark it as offline
        else if (timeSinceStart < 0) offlineStatus();

        // else if today's session already complete, mark it as offline
        else if (timeSinceEnd > 0) offlineStatus();

      }

      // else its upcoming, mark it as offline
      else offlineStatus();

    }

    function hasEvent(schedule, day) {

      var daySlug = days[parseInt(day)].slug;

      if (schedule[daySlug]
        && schedule[daySlug].start
        && schedule[daySlug].startText
        && schedule[daySlug].end
        && schedule[daySlug].endText) return true;

      else return false;

    }

    function getNextEventDay(schedule, day) {

      // increment day
      day++;
      if (day == 7) day = 0;

      // if tomorrow has event, return tomorrow
      if (hasEvent(schedule, day)) return day;

      // else loop
      else return getNextEventDay(schedule, day);

    }

    function getProp(prop, day) {

      // build prop name
      var daySlug = days[parseInt(day)].slug;

      // if it exists, return it
      if (schedules[state][daySlug] && schedules[state][daySlug][prop]) return schedules[state][daySlug][prop];

      else return false;

    }

    function updateStatus(status) {
      $state.attr('class', status)
    }

    function offlineStatus() {
      updateStatus("offline state");
    }

    function onlineStatus() {
      updateStatus("online state");
    }

});
</script>
